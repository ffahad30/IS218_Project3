{% extends "base.html" %}
{% block title %}Calculator Results{% endblock %}
{% block head %}
{% endblock %}
{% block content %}
    {% with errors = get_flashed_messages(category_filter=["error"]) %}
  	{% if errors %}
	<div class="alert-message block-message error">
    	{% for msg in errors %}
		<div class="alert alert-danger" role="alert">
			{{ msg }}
		</div>
    	{% endfor %}
	</div>
  	{% endif %}
	{% endwith %}
    <h1>Result</h1>
    <strong>Value 1: </strong> {{ value1 }} <br>
    <strong>Value 2: </strong> {{ value2 }} <br>
    <strong>Operation: </strong> {{ operation }} <br>
    <strong>Result: </strong> {{ result }}
    <p>
    <button onclick="location.href='/basicform'" class="button button1">Back to the Calculator</button>
    </p>

    <h3>Calculation Result History</h3>
      <table id="data" class="table table-striped">
    <thead>
      <tr>
        <th>Value 1</th>
        <th>Value 2</th>
        <th>Operation</th>
        <th>Result</th>
      </tr>
    </thead>
    <tbody>
      {% for item in items %}
        <tr>
          <td>{{ item[0] }}</td>
          <td>{{ item[1] }}</td>
          <td>{{ item[2] }}</td>
          <td>{{ item[3] }}</td>
        </tr>
      {% endfor %}
    </tbody>
  </table>
{% endblock %}

{% block scripts %}
  <script>
    $(document).ready(function () {
      $('#data').DataTable({
        columns: [
          {searchable: false},
          {searchable: false},
          null,
          {searchable: false}],
      });
    });
  </script>

{% endblock %}